<!DOCTYPE html>
<html>
<head>
    <title>質問箱</title>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.esm.min.mjs";
      import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.esm.min.mjs";
      
      // Firebaseの設定情報
      const firebaseConfig = {
        apiKey: "AIzaSyDT5SdSajGPPTzgyZb-XO4xabAY6B0bewI",
        authDomain: "hamanan-10983.firebaseapp.com",
        projectId: "hamanan-10983",
        storageBucket: "hamanan-10983.appspot.com",
        messagingSenderId: "181655797156",
        appId: "1:181655797156:web:f1025f6db4772ba3539531"
      };

      // Firebaseアプリを初期化
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Firebase Firestoreへのデータ保存
      document.getElementById("questionForm").addEventListener("submit", function (e) {
        e.preventDefault();

        const name = document.getElementById("name").value;
        const email = document.getElementById("email").value;
        const question = document.getElementById("question").value;

        // Firestoreの"questions"コレクションに新しいドキュメントを追加
        addDoc(collection(db, "questions"), {
          name: name,
          email: email,
          question: question,
        })
          .then(() => {
            console.log("質問が送信されました。");
          })
          .catch((error) => {
            console.error("エラーが発生しました: ", error);
          });

        // フォームをクリア
        document.getElementById("name").value = "";
        document.getElementById("email").value = "";
        document.getElementById("question").value = "";
      });
    </script>
</head>
<body>
    <h1>質問箱</h1>
    <form id="questionForm">
        <label for="name">お名前：</label>
        <input type="text" id="name" name="name" required><br>

        <label for="email">メールアドレス：</label>
        <input type="email" id="email" name="email" required><br>

        <label for="question">質問：</label>
        <textarea id="question" name="question" rows="4" cols="50" required></textarea><br>

        <input type="submit" value="質問を送信">
    </form>
</body>
</html>
